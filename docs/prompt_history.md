# 프롬프트 히스토리

## 프로젝트 초기 설정 및 문서 작성

### 사용자 요청
```
기업 사용자 ->  기업 메시징 중계 서버 -> 이통3사 의  SMS  , RCS  메시징에 대한 스팸 필터 기능을 메시징 중계서버에 구축하기 위한 리드민와 요구사항 문서를 작성해 주세요
```

### 결과
다음 문서들이 생성되었습니다:
1. README.md - 프로젝트 개요, 주요 기능, 시스템 구성 등을 설명하는 문서
2. docs/requirements.md - 스팸 필터 시스템의 요구사항을 상세하게 정의한 문서
3. docs/installation.md - 스팸 필터 시스템의 설치 및 설정 방법을 설명하는 문서
4. docs/user_manual.md - 스팸 필터 시스템의 사용 방법을 설명하는 문서
5. docs/images/ - 사용자 매뉴얼에 필요한 이미지를 저장할 디렉토리

## 형상관리 정보 업데이트

### 사용자 요청
```
형상관리는 @https://github.com/medialog-AX-TF/spam-filter  으로 수정해주세요
```

### 결과
다음과 같이 형상관리 정보가 업데이트되었습니다:
1. README.md 파일에 형상관리 섹션을 추가하고 GitHub 저장소 주소를 명시
2. docs/installation.md 파일의 소스코드 다운로드 부분에서 GitHub 저장소 주소를 수정
3. docs/installation.md 파일의 Kubernetes를 이용한 업그레이드 부분에서 Docker 이미지 빌드 및 푸시 명령어의 저장소 주소를 수정

모든 문서에서 형상관리 정보가 일관되게 https://github.com/medialog-AX-TF/spam-filter 로 참조되도록 수정되었습니다.

## 쿠버네티스 배포 기능 삭제

### 사용자 요청
```
쿠버네티스 배포 기능은 삭제해 주세요
```

### 결과
다음과 같이 쿠버네티스 관련 내용이 삭제되었습니다:
1. README.md 파일의 기술 스택에서 Kubernetes 제거
2. docs/installation.md 파일에서 다음 내용 삭제:
   - 소프트웨어 요구사항에서 Kubernetes 관련 내용
   - Kubernetes 설치 섹션
   - Kubernetes를 이용한 설치 섹션
   - Kubernetes를 이용한 시작 및 중지 섹션
   - Kubernetes 로그 확인 및 상태 확인 관련 내용
   - Kubernetes를 이용한 업그레이드 섹션
   - Kubernetes를 이용한 데이터베이스 마이그레이션 관련 내용

Docker Compose를 이용한 배포 방식만 남겨두어 시스템 설치 및 운영 방법을 단순화했습니다.

## 성능 요구사항 수정

### 사용자 요청
```
성능 요구사항은 1000 TPS 를 만족해야 하는 것으로 수정해주세요
```

### 결과
다음과 같이 성능 요구사항이 수정되었습니다:
1. docs/requirements.md 파일의 성능 요구사항 부분 수정:
   - REQ-NF-001: "초당 최소 1,000건의 메시지를 처리"에서 "초당 1,000건의 트랜잭션(TPS, Transaction Per Second)을 처리"로 변경
   - REQ-NF-004: 최대 부하 상황을 "초당 1,500 트랜잭션"으로 구체화
2. docs/installation.md 파일의 환경 설정 부분 수정:
   - MAX_MESSAGES_PER_SECOND=1000 설정에 "1000 TPS 성능 요구사항을 만족하기 위한 설정" 주석 추가
3. docs/installation.md 파일의 API 서버 설정 부분 수정:
   - rate_limiting의 max_requests를 1000으로 유지하고 "1000 TPS 성능 요구사항을 만족하기 위한 설정" 주석 추가
   - rate_limiting의 time_window를 60초에서 1초로 변경하여 초당 1000 요청을 처리할 수 있도록 설정

이러한 변경을 통해 시스템이 1000 TPS의 성능 요구사항을 만족할 수 있도록 설정되었습니다. 

## 스팸 필터링 처리 시간 요구사항 변경 및 성능 개선 대책

### 사용자 요청
```
REQ-NF-002: 스팸 필터링 처리 시간은 메시지당 100ms 이내여야 한다.    의 요구사항을  100ms 에서 10ms 로 변경해 주고 관련하여 성능을 개선하기 위한 대책도 함께 작성해 주세요
```

### 결과
다음과 같이 성능 요구사항이 변경되고 성능 개선 대책이 작성되었습니다:
1. docs/requirements.md 파일의 성능 요구사항 변경:
   - REQ-NF-002: "스팸 필터링 처리 시간은 메시지당 100ms 이내여야 한다"에서 "스팸 필터링 처리 시간은 메시지당 10ms 이내여야 한다"로 변경
2. docs/performance_optimization.md 파일 생성:
   - 스팸 필터링 처리 시간을 10ms 이내로 단축하기 위한 성능 개선 대책 작성
   - 하드웨어 최적화, 알고리즘 개선, 캐싱 전략, 병렬 처리, 데이터베이스 최적화 등의 방안 제시
   - 성능 모니터링 및 테스트 방법론 제안

이러한 변경을 통해 시스템이 더욱 엄격한 성능 요구사항(메시지당 10ms 이내 처리)을 만족할 수 있도록 설정되었습니다. 

## 나이브 베이즈 모델 도입 검토

### 사용자 요청
```
나이브 베이즈 모델 을 스팸 판독 모델로 도입하는 것을 검토해 주세요
```

### 결과
나이브 베이즈 모델을 스팸 필터 시스템에 도입하는 것에 대한 검토 문서가 작성되었습니다:

1. docs/naive_bayes_review.md 파일 생성:
   - 나이브 베이즈 모델 소개 및 작동 원리 설명
   - 스팸 필터링 적용 방식 및 장단점 분석
   - 시스템 요구사항(특히 10ms 처리 시간) 부합성 평가
   - 구현 및 최적화 방안 제시
   - 도입 고려사항 및 데이터 요구사항 설명
   - 비용 대비 효과 및 다른 모델과의 비교 분석
   - 결론 및 권장사항 제시

검토 결과, 나이브 베이즈 모델은 다음과 같은 이유로 스팸 필터 시스템에 적합한 것으로 평가되었습니다:
- 매우 빠른 추론 속도로 10ms 처리 시간 요구사항 충족 가능
- 단순성, 확장성, 낮은 리소스 요구량으로 1000 TPS 처리 가능
- 증분 학습을 통한 실시간 규칙 업데이트 지원
- 하이브리드 접근법(나이브 베이즈 + 규칙 기반 필터)으로 정확도 향상 가능

다항 나이브 베이즈(Multinomial Naive Bayes) 모델을 기반으로 한 구현이 권장되었으며, 특성 선택, N-gram 활용, 라플라스 스무딩 등의 최적화 방법이 제안되었습니다. 또한 5단계로 구성된 구현 로드맵이 제시되어 체계적인 도입 계획을 수립할 수 있게 되었습니다. 

## 나이브 베이즈 모델의 한계와 대안 모델 검토

### 사용자 요청
```
나이즈 베이즈의 스팸 판독율이 낮아 다른 모델을 사용하는 것을 검토해야 합니다. 이에 맞게 수정해 주세요
```

### 결과
나이브 베이즈 모델의 한계를 분석하고 대안 모델을 검토하는 문서로 수정되었습니다:

1. docs/naive_bayes_review.md 파일 제목 및 내용 변경:
   - "스팸 필터링 모델 검토: 나이브 베이즈의 한계와 대안 모델"로 제목 변경
   - 나이브 베이즈 모델의 낮은 스팸 판독률(75-80%) 문제점 분석
   - 대안 모델로 랜덤 포레스트, SVM, XGBoost/LightGBM, 딥러닝 모델 비교 평가
   - 각 모델의 정확도, 처리 시간, 메모리 사용량, 오탐률 등 성능 지표 비교
   - 시스템 요구사항 부합성 비교 분석

검토 결과, LightGBM이 다음과 같은 이유로 최적의 대안 모델로 평가되었습니다:
- 높은 스팸 판독률(92-96%)로 나이브 베이즈(75-80%)보다 크게 향상
- 최적화 시 3-12ms의 처리 시간으로 10ms 요구사항 충족 가능
- 1000 TPS 처리 가능한 성능
- 낮은 오탐률(3-5%)로 사용자 경험 향상
- 합리적인 메모리 사용량과 운영 비용

LightGBM 모델 도입을 위한 6단계 구현 로드맵이 제시되었으며, 특성 엔지니어링, 모델 최적화, 추론 최적화 등의 성능 향상 방안이 상세히 설명되었습니다. 이를 통해 나이브 베이즈의 낮은 스팸 판독률 문제를 해결하면서도 시스템 요구사항을 충족할 수 있는 방안이 마련되었습니다. 

## 프로젝트 WBS 작성

### 사용자 요청
```
리드미와 요구사항을 확인하여 WBS 를 작성해 주세요 커서와 같은 AI 코딩 어시스턴트를 사용하는 조건으로 작성해 주세요
```

### 결과
기업 메시징 중계 서버 스팸 필터 시스템 개발을 위한 WBS(Work Breakdown Structure)가 작성되었습니다:

1. docs/wbs.md 파일 생성:
   - 프로젝트 정보 및 개요 설명
   - 총 16주(4개월) 기간의 프로젝트 일정 계획
   - 9개 주요 단계로 구성된 작업 분할 구조
   - 각 작업별 기간, 담당자, 선행작업, AI 어시스턴트 활용 방안 상세 기술
   - 9개 마일스톤 및 완료 기준 정의
   - 주요 리스크 및 대응 전략 수립
   - 팀 구성 및 역할 정의

WBS는 다음과 같은 주요 단계로 구성되었습니다:
1. 프로젝트 준비 및 계획 (1주)
2. 시스템 설계 (2주)
3. 데이터 수집 및 전처리 (2주)
4. 머신러닝 모델 개발 (3주) - LightGBM 모델 구현 및 최적화
5. 백엔드 서비스 개발 (3주)
6. 통합 및 최적화 (2주) - 1000 TPS 및 10ms 처리 시간 요구사항 달성
7. 배포 및 운영 환경 구축 (1주) - Docker 기반 배포
8. 테스트 및 품질 보증 (1주)
9. 문서화 및 교육 (1주)

특히 Cursor와 같은 AI 코딩 어시스턴트를 활용하는 전략이 상세히 기술되었으며, 코드 생성 및 최적화, 문서화 지원, 테스트 코드 작성, 디버깅 및 문제 해결, 지식 공유 및 학습 등의 영역에서 AI 어시스턴트를 적극 활용하는 방안이 제시되었습니다. 